START TRANSACTION;

-- Suppression des donn√©es existantes
DELETE FROM monster_runes;
DELETE FROM rune_upgrades;
DELETE FROM rune_substats;
DELETE FROM runes;

-- Rune ID: 20713389880

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20713389880, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 1, 
 15, 
 15,
 443800, 
 133181, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 170, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45714793008

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45714793008, 
 9215591, 
 2, 
 0, 
 3,
 4, 
 6, 
 1, 
 15, 
 9,
 237750, 
 28975, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 94,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 368, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45738737136

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45738737136, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 1, 
 15, 
 12,
 399420, 
 65863, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 358, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31711409394

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31711409394, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 1, 
 15, 
 12,
 355040, 
 62545, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45826372315

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45826372315, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 1, 
 15, 
 12,
 355040, 
 62545, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41380483373

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41380483373, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 2, 
 15, 
 12,
 421610, 
 64680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    543,
    0,
    62
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 62 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    1.0,
    8.0,
    NOW();

-- Rune ID: 22124212439

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(22124212439, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 251, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31147361767

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31147361767, 
 9215591, 
 2, 
 0, 
 1,
 15, 
 16, 
 3, 
 15, 
 15,
 578208, 
 139333, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    347,
    0,
    347
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 1
    AND 347 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32532032629

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32532032629, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    907,
    0,
    907
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 907 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35300840453

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35300840453, 
 9215591, 
 2, 
 0, 
 1,
 15, 
 16, 
 3, 
 15, 
 12,
 578208, 
 75333, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 251, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    30,
    0,
    30
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 30 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 38020016107

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38020016107, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43218294273

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43218294273, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    483,
    0,
    483
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 483 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45461289494

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45461289494, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 293, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45468697305

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45468697305, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 421610, 
 64680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45651851576

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45651851576, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45715230220

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45715230220, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    204,
    0,
    204
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 204 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45748630120

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45748630120, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 3, 
 15, 
 0,
 481840, 
 32778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 22,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    242,
    0,
    242
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 242 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 30878999433

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30878999433, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 3, 
 15, 
 15,
 507200, 
 134503, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    1,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45688848086

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45688848086, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 3, 
 15, 
 12,
 443800, 
 66190, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 22796127884

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(22796127884, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 3, 
 15, 
 15,
 443800, 
 130190, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43126737634

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43126737634, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 3, 
 15, 
 15,
 456480, 
 131053, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 369, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44806423795

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44806423795, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 3, 
 15, 
 12,
 405760, 
 63602, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 14, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45739372705

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45739372705, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 3, 
 15, 
 12,
 355040, 
 60152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 20385387316

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20385387316, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 3, 
 15, 
 15,
 431120, 
 129327, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32403513830

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32403513830, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 3, 
 15, 
 15,
 431120, 
 129327, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 16, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 26165478047

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26165478047, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 15,
 391495, 
 127889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44825907655

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44825907655, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    583,
    0,
    583
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 583 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45732518759

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45732518759, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 451725, 
 68179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45734696095

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45734696095, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    26,
    0,
    26
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 26 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    225,
    0,
    225
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 225 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45778119419

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45778119419, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45778422411

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45778422411, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    178,
    0,
    178
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 178 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31875572436

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31875572436, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 4, 
 15, 
 15,
 451725, 
 132179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    4.0,
    10.0,
    NOW();

-- Rune ID: 31708201083

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31708201083, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 4, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5.0,
    5.0,
    NOW();

-- Rune ID: 42487004346

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42487004346, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 4, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    20,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    166,
    0,
    166
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 166 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45714774730

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45714774730, 
 9215591, 
 2, 
 0, 
 2,
 4, 
 6, 
 4, 
 15, 
 9,
 285300, 
 31524, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 38,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    31,
    0,
    31
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 31 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45728260452

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45728260452, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 4, 
 15, 
 12,
 412100, 
 65357, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45738463732

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45738463732, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 4, 
 15, 
 12,
 475500, 
 69873, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 12, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 26106025393

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26106025393, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 4, 
 15, 
 15,
 356625, 
 125405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 233, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 36392334536

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36392334536, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 4, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5.0,
    5.0,
    NOW();

-- Rune ID: 44887442711

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44887442711, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 4, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    161,
    0,
    161
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 161 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45460168318

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45460168318, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 4, 
 15, 
 12,
 309075, 
 58017, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45856996355

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45856996355, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 4, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 20522947600

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20522947600, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 4, 
 15, 
 15,
 380400, 
 127098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    -8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 28986487279

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(28986487279, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 4, 
 15, 
 12,
 380400, 
 63098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 30796731917

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30796731917, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 4, 
 15, 
 15,
 329680, 
 123485, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    28,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    29,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34981062189

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34981062189, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 4, 
 15, 
 12,
 380400, 
 63098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 14, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    14,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5.0,
    5.0,
    NOW();

-- Rune ID: 39610917112

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39610917112, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 4, 
 15, 
 15,
 380400, 
 127098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 22256026133

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(22256026133, 
 9215591, 
 2, 
 0, 
 1,
 15, 
 16, 
 5, 
 15, 
 15,
 867312, 
 143365, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    10,
    1,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 1
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    10.0,
    10.0,
    NOW();

-- Rune ID: 40939390050

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40939390050, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 5, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4.0,
    4.0,
    NOW();

-- Rune ID: 41737628969

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41737628969, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 5, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    289,
    0,
    -191
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -191 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    26,
    0,
    26
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 26 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    3.0,
    8.0,
    NOW();

-- Rune ID: 40266725002

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40266725002, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 6, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    324,
    0,
    -46
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -46 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43485442844

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43485442844, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 6, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 43848963073

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43848963073, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 6, 
 15, 
 12,
 421610, 
 64680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 26737459581

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26737459581, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 6, 
 15, 
 15,
 507200, 
 134503, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 214, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31583557116

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31583557116, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 6, 
 15, 
 15,
 443800, 
 130190, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    22,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32919491122

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32919491122, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 6, 
 15, 
 15,
 380400, 
 125877, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    25,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 27279727428

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(27279727428, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 6, 
 15, 
 12,
 380400, 
 61877, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41497355213

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41497355213, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 6, 
 15, 
 12,
 456480, 
 67053, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    57,
    0,
    57
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 57 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45649648117

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45649648117, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 6, 
 15, 
 15,
 456480, 
 131053, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 20, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    20,
    0,
    -10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44773497946

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44773497946, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 6, 
 15, 
 15,
 399420, 
 127171, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    262,
    0,
    262
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 262 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32919231862

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32919231862, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 6, 
 15, 
 15,
 355040, 
 124152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 26800332112

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26800332112, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 6, 
 15, 
 15,
 377230, 
 125661, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    11,
    0,
    -9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 38145923527

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38145923527, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 6, 
 15, 
 15,
 377230, 
 125661, 
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 64,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    303,
    0,
    -235
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -235 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6.0,
    13.0,
    NOW();

-- Rune ID: 38094603182

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38094603182, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 7, 
 15, 
 15,
 421610, 
 128680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39967340384

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39967340384, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 7, 
 15, 
 15,
 421610, 
 128680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    244,
    0,
    -203
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -203 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40264774674

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40264774674, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 7, 
 15, 
 12,
 421610, 
 64680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    4.0,
    9.0,
    NOW();

-- Rune ID: 44524940562

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44524940562, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 7, 
 15, 
 12,
 481840, 
 68778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    23,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46167783760

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46167783760, 
 9215591, 
 2, 
 0, 
 1,
 14, 
 16, 
 7, 
 15, 
 0,
 361380, 
 24583, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 22,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    200,
    0,
    200
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 200 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33891125294

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33891125294, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 7, 
 15, 
 15,
 443800, 
 130190, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    270,
    0,
    -193
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -193 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    21,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    4.0,
    11.0,
    NOW();

-- Rune ID: 41453908269

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41453908269, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 7, 
 15, 
 15,
 443800, 
 130190, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    21,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32701410411

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32701410411, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 7, 
 15, 
 12,
 355040, 
 60152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34352373826

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34352373826, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 7, 
 15, 
 12,
 355040, 
 60152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34425023607

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34425023607, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 7, 
 15, 
 15,
 355040, 
 124152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    4.0,
    10.0,
    NOW();

-- Rune ID: 34652888072

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34652888072, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 7, 
 15, 
 12,
 355040, 
 60152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    4.0,
    10.0,
    NOW();

-- Rune ID: 46166289299

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46166289299, 
 9215591, 
 2, 
 0, 
 5,
 14, 
 16, 
 7, 
 15, 
 0,
 365184, 
 24842, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 360,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 5, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46167456694

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46167456694, 
 9215591, 
 2, 
 0, 
 5,
 14, 
 16, 
 7, 
 15, 
 0,
 304320, 
 20702, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 360,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 24784972749

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24784972749, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 7, 
 15, 
 15,
 377230, 
 125661, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    2.0,
    9.0,
    NOW();

-- Rune ID: 20504159100

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20504159100, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 15,
 391495, 
 127889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    2.0,
    9.0,
    NOW();

-- Rune ID: 31721594047

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31721594047, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 15,
 391495, 
 127889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35346959500

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35346959500, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    25,
    0,
    25
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 25 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 36339624654

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36339624654, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43015862327

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43015862327, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44957449940

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44957449940, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45510687995

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45510687995, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 451725, 
 68179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45534801411

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45534801411, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 451725, 
 68179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    310,
    0,
    310
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 310 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45753506610

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45753506610, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45787304939

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45787304939, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 8, 
 15, 
 12,
 475500, 
 69873, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    556,
    0,
    556
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 556 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 30913959464

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30913959464, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 8, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    16,
    0,
    -6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31651582381

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31651582381, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 8, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 303, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 36664225130

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36664225130, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 8, 
 15, 
 12,
 309075, 
 58017, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42899553188

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42899553188, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 8, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45727855834

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45727855834, 
 9215591, 
 2, 
 0, 
 3,
 4, 
 6, 
 8, 
 15, 
 9,
 213975, 
 26443, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 94,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45731202284

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45731202284, 
 9215591, 
 2, 
 0, 
 3,
 4, 
 6, 
 8, 
 15, 
 9,
 261525, 
 29830, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 94,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 6, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31684922731

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31684922731, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 8, 
 15, 
 15,
 356625, 
 125405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 22498697582

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(22498697582, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 8, 
 15, 
 15,
 427950, 
 130486, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    43,
    0,
    27
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 27 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41862915199

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41862915199, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 8, 
 15, 
 15,
 427950, 
 130486, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    195,
    0,
    -246
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -246 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 30764619427

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30764619427, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 8, 
 15, 
 15,
 427950, 
 130486, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    51,
    0,
    30
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 30 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44331981031

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44331981031, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 8, 
 15, 
 12,
 380400, 
 63098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45716488599

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45716488599, 
 9215591, 
 2, 
 0, 
 5,
 4, 
 6, 
 8, 
 15, 
 9,
 228240, 
 27459, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1440,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45751042641

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45751042641, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 8, 
 15, 
 12,
 329680, 
 59485, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 24335474640

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24335474640, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 8, 
 15, 
 15,
 404175, 
 128792, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 45850040170

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45850040170, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 8, 
 15, 
 12,
 350285, 
 60953, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    602,
    0,
    602
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 602 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43981509622

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43981509622, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 8, 
 15, 
 15,
 350285, 
 124953, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    29,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 24070756855

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24070756855, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44327013456

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44327013456, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45477155169

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45477155169, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    313,
    0,
    313
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 313 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45714521285

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45714521285, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45738622952

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45738622952, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    328,
    0,
    328
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 328 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 24328032081

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24328032081, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 13,
 662530, 
 81126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 126,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 13,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6.0,
    11.0,
    NOW();

-- Rune ID: 44413230013

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44413230013, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 10, 
 15, 
 15,
 722760, 
 136138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 227, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5.0,
    10.0,
    NOW();

-- Rune ID: 30799123925

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30799123925, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 10, 
 15, 
 15,
 760800, 
 138040, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45716002577

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45716002577, 
 9215591, 
 2, 
 0, 
 2,
 4, 
 6, 
 10, 
 15, 
 9,
 570600, 
 39730, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 25,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45730188354

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45730188354, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 10, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44868740698

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44868740698, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 10, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7.0,
    7.0,
    NOW();

-- Rune ID: 33547589113

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33547589113, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 10, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 347, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39181350364

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39181350364, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 10, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    212,
    0,
    -142
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -142 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42328674494

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42328674494, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 10, 
 15, 
 12,
 684720, 
 70236, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    19,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42995631705

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42995631705, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 10, 
 15, 
 12,
 627660, 
 67383, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 59,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    15,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    1.0,
    8.0,
    NOW();

-- Rune ID: 45728050102

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45728050102, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 10, 
 15, 
 12,
 684720, 
 70236, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 59,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35360212545

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35360212545, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 10, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45772726833

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45772726833, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 10, 
 15, 
 12,
 557920, 
 63896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45773464665

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45773464665, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 10, 
 15, 
 12,
 557920, 
 63896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39191923294

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39191923294, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 10, 
 15, 
 12,
 557920, 
 63896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 30922477113

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30922477113, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 10, 
 15, 
 15,
 592790, 
 129639, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11,
    1,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11.0,
    11.0,
    NOW();

-- Rune ID: 45730170971

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45730170971, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 10, 
 15, 
 12,
 646680, 
 68334, 
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 48,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 18, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44441275505

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44441275505, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 10, 
 15, 
 12,
 592790, 
 65639, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 21362757307

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(21362757307, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    28,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    221,
    0,
    -198
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -198 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33111628861

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33111628861, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 15,
 602300, 
 132251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    328,
    0,
    -29
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -29 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40964194614

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40964194614, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    19,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    208,
    0,
    208
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 208 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40967322173

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40967322173, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 182, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    26,
    0,
    26
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 26 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40967576382

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40967576382, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    19,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    220,
    0,
    220
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 220 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41532441281

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41532441281, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41624806330

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41624806330, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41664112904

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41664112904, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41737800471

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41737800471, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    26,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    269,
    0,
    -233
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -233 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41860568925

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41860568925, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 11, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 171, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41704796359

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41704796359, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 11, 
 15, 
 12,
 634000, 
 69949, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    224,
    0,
    224
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 224 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 20867106184

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20867106184, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 11, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40844643250

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40844643250, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 11, 
 15, 
 15,
 523050, 
 128008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 340, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    1.0,
    10.0,
    NOW();

-- Rune ID: 41522362632

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41522362632, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 11, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    9,
    1,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39354170662

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39354170662, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 11, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    15,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    25,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44158973866

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44158973866, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 11, 
 15, 
 15,
 570600, 
 130554, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    835,
    0,
    835
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 835 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35940595728

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35940595728, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 11, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23648132764

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23648132764, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 722760, 
 136138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    4.0,
    8.0,
    NOW();

-- Rune ID: 40551127586

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40551127586, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    308,
    0,
    -18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41816934622

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41816934622, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42385456271

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42385456271, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    177,
    0,
    177
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 177 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    24,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43916461926

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43916461926, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 316, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44538451759

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44538451759, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    30,
    0,
    30
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 30 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45780563449

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45780563449, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23874780730

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23874780730, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 722760, 
 136138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41771387975

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41771387975, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 300, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44555066890

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44555066890, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 697400, 
 70870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    306,
    0,
    306
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 306 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45514575307

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45514575307, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    29,
    0,
    29
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 29 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45772488293

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45772488293, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    48,
    0,
    48
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 48 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45828349989

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45828349989, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45850154724

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45850154724, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 697400, 
 70870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    63,
    0,
    63
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 63 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    361,
    0,
    361
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 361 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45882586319

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45882586319, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    59,
    0,
    59
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 59 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    171,
    0,
    171
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 171 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45983063046

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45983063046, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 697400, 
 70870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46002892786

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46002892786, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46017017048

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46017017048, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 9,
 760800, 
 49240, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 25,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 9,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    36,
    0,
    36
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 36 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    461,
    0,
    461
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 461 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46046358728

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46046358728, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 318, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46094076714

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46094076714, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 13, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 368, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23693460533

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23693460533, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 523050, 
 126152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    27,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    424,
    1,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    11.0,
    424.0,
    NOW();

-- Rune ID: 25257002667

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25257002667, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 351, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    24,
    0,
    24
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 24 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10.0,
    10.0,
    NOW();

-- Rune ID: 25643053943

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25643053943, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 523050, 
 126152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    23,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 26773596814

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26773596814, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    351,
    1,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    17.0,
    351.0,
    NOW();

-- Rune ID: 31864360370

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31864360370, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 37970074426

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(37970074426, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 523050, 
 126152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39933273713

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39933273713, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40228230691

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40228230691, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 523050, 
 126152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    359,
    1,
    24
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 24 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40383978244

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40383978244, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    16,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41260280977

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41260280977, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 349, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41319313052

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41319313052, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    509,
    0,
    509
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 509 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    27,
    0,
    27
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 27 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41361152589

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41361152589, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    209,
    0,
    209
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 209 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41381126757

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41381126757, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41679655824

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41679655824, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 345, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41686924370

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41686924370, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    25,
    0,
    25
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 25 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43847595003

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43847595003, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 523050, 
 126152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    355,
    0,
    43
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 43 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45129105070

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45129105070, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    277,
    0,
    277
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 277 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40027854135

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40027854135, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 278, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 24871798737

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24871798737, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    27,
    0,
    27
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 27 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5.0,
    8.0,
    NOW();

-- Rune ID: 25830708130

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25830708130, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    10,
    0,
    -10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 29053785410

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(29053785410, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 17, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4.0,
    7.0,
    NOW();

-- Rune ID: 39897070602

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39897070602, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40240349952

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40240349952, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    17,
    0,
    -4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 24563202327

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24563202327, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 25937673941

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25937673941, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 608640, 
 130432, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39979790254

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39979790254, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 608640, 
 130432, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    22,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41319063364

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41319063364, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    10,
    0,
    -16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41326867041

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41326867041, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    10,
    0,
    -4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39913957944

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39913957944, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 608640, 
 130432, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5.0,
    9.0,
    NOW();

-- Rune ID: 24589309628

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24589309628, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 646680, 
 132334, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 343, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46048143033

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46048143033, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 13, 
 15, 
 12,
 592790, 
 65639, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 25831460922

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25831460922, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 592790, 
 129639, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    1,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9.0,
    9.0,
    NOW();

-- Rune ID: 41630133421

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41630133421, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 14, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33625839339

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33625839339, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 14, 
 15, 
 15,
 634000, 
 133949, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40971647110

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40971647110, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 14, 
 15, 
 15,
 634000, 
 133949, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46102919447

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46102919447, 
 9215591, 
 2, 
 0, 
 2,
 15, 
 16, 
 14, 
 15, 
 12,
 760800, 
 76738, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    373,
    0,
    373
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 1
    AND 373 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40235669256

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40235669256, 
 9215591, 
 2, 
 0, 
 3,
 15, 
 16, 
 14, 
 15, 
 12,
 570600, 
 66554, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    13,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    16,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 1
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40822372922

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40822372922, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 14, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    2.0,
    6.0,
    NOW();

-- Rune ID: 26844310299

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26844310299, 
 9215591, 
 2, 
 0, 
 4,
 15, 
 16, 
 14, 
 15, 
 15,
 684720, 
 136665, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34822218798

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34822218798, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 14, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    4.0,
    11.0,
    NOW();

-- Rune ID: 42880090718

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42880090718, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 14, 
 15, 
 12,
 507200, 
 63159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46167510012

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46167510012, 
 9215591, 
 2, 
 0, 
 5,
 14, 
 16, 
 14, 
 15, 
 0,
 486912, 
 26072, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 360,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23292048280

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23292048280, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 14, 
 15, 
 15,
 538900, 
 128856, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    23,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32684883523

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32684883523, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 14, 
 15, 
 15,
 538900, 
 128856, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    1.0,
    8.0,
    NOW();

-- Rune ID: 32838821622

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32838821622, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 299, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33050138723

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33050138723, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    365,
    1,
    -25
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -25 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40994515323

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40994515323, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    336,
    0,
    -199
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -199 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41992688504

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41992688504, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 15,
 602300, 
 132251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41678963679

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41678963679, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44775169918

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44775169918, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 15, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 26313020841

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26313020841, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 172, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    1.0,
    7.0,
    NOW();

-- Rune ID: 33009284744

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33009284744, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 18, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    31,
    0,
    31
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 31 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40913282381

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40913282381, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 15,
 634000, 
 133949, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5.0,
    11.0,
    NOW();

-- Rune ID: 45159645834

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45159645834, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 12,
 697400, 
 73344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 13, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    26,
    0,
    26
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 26 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45666257942

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45666257942, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 12,
 634000, 
 69949, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45730300718

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45730300718, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 12,
 634000, 
 69949, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23218003136

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23218003136, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    384,
    1,
    -160
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -160 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    35,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33814627102

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33814627102, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 15, 
 15, 
 12,
 697400, 
 73344, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 18, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46166921331

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46166921331, 
 9215591, 
 2, 
 0, 
 2,
 14, 
 16, 
 15, 
 15, 
 0,
 608640, 
 32591, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 11,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 32531990013

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32531990013, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 15, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40832498522

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40832498522, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 15, 
 15, 
 12,
 475500, 
 61461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6.0,
    6.0,
    NOW();

-- Rune ID: 46028051872

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46028051872, 
 9215591, 
 2, 
 0, 
 3,
 15, 
 16, 
 15, 
 15, 
 12,
 627660, 
 69609, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    658,
    0,
    658
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 1
    AND 658 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 1
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34782109273

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34782109273, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 14, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40924745092

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40924745092, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    156,
    0,
    156
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 156 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41611069874

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41611069874, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 11, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41664755173

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41664755173, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 12, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    30,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    162,
    0,
    -28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    3.0,
    9.0,
    NOW();

-- Rune ID: 44158153945

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44158153945, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 12,
 627660, 
 69609, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    41,
    0,
    41
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 41 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45997500160

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45997500160, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 15, 
 15, 
 12,
 570600, 
 66554, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 43,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23244563249

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23244563249, 
 9215591, 
 2, 
 0, 
 5,
 15, 
 16, 
 15, 
 15, 
 15,
 608640, 
 132591, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33049980152

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33049980152, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 15, 
 15, 
 12,
 507200, 
 63159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34973091470

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34973091470, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 15, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41566375315

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41566375315, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 15, 
 15, 
 15,
 557920, 
 129875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 19, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    17,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44775169923

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44775169923, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 15, 
 15, 
 12,
 557920, 
 65875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 29732262890

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(29732262890, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 15, 
 15, 
 15,
 592790, 
 131742, 
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 64,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 154, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    3.0,
    9.0,
    NOW();

-- Rune ID: 37970074495

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(37970074495, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 15, 
 15, 
 15,
 538900, 
 128856, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41509687793

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41509687793, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 15, 
 15, 
 15,
 592790, 
 131742, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 13, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44156518940

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44156518940, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 15, 
 15, 
 12,
 592790, 
 67742, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45270616833

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45270616833, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 16, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41381145537

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41381145537, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 16, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    28,
    0,
    28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 28 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45105189259

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45105189259, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 16, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    24,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    311,
    1,
    -174
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -174 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35574907525

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35574907525, 
 9215591, 
 2, 
 0, 
 3,
 15, 
 16, 
 16, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 257, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    18,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    31,
    0,
    27
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 27 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40331882325

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40331882325, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 17, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    198,
    0,
    -214
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -214 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44801051315

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44801051315, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 17, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40394474245

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40394474245, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 17, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44437427938

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44437427938, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 17, 
 15, 
 12,
 697400, 
 73344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    165,
    0,
    165
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 165 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41319952625

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41319952625, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 17, 
 15, 
 12,
 475500, 
 61461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42386024507

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42386024507, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 17, 
 15, 
 12,
 627660, 
 69609, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    207,
    0,
    -28
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -28 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45621811440

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45621811440, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 17, 
 15, 
 12,
 627660, 
 69609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 43,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    306,
    0,
    306
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 306 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35995146222

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35995146222, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 17, 
 15, 
 12,
 557920, 
 65875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 20, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41337248078

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41337248078, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 17, 
 15, 
 12,
 507200, 
 63159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41342311662

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41342311662, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 17, 
 15, 
 12,
 538900, 
 64856, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    25,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44763774193

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44763774193, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 17, 
 15, 
 12,
 592790, 
 67742, 
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 48,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 15, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    21,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6.0,
    11.0,
    NOW();

-- Rune ID: 45535451310

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45535451310, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 17, 
 15, 
 12,
 538900, 
 64856, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    182,
    0,
    182
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 182 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 22507445127

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(22507445127, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 18, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    3.0,
    7.0,
    NOW();

-- Rune ID: 40840002311

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40840002311, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 18, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5.0,
    7.0,
    NOW();

-- Rune ID: 41628405032

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41628405032, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 18, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    138,
    0,
    138
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 138 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33782527591

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33782527591, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    1.0,
    10.0,
    NOW();

-- Rune ID: 35796209337

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35796209337, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 14, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 36214716612

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36214716612, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 12,
 634000, 
 69949, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    15,
    0,
    -5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40802353719

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40802353719, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41050160897

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41050160897, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 300, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    28,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41611471232

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41611471232, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 18, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 14, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    14,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    29,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    3.0,
    9.0,
    NOW();

-- Rune ID: 27176105325

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(27176105325, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 18, 
 15, 
 15,
 523050, 
 128008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    1,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9.0,
    9.0,
    NOW();

-- Rune ID: 34971845842

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34971845842, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 18, 
 15, 
 15,
 523050, 
 128008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    22,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40820603346

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40820603346, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 18, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    28,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40881759740

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40881759740, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 18, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 20674261711

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20674261711, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 18, 
 15, 
 15,
 570600, 
 130554, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    20,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    3.0,
    8.0,
    NOW();

-- Rune ID: 41624261747

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41624261747, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 18, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5.0,
    11.0,
    NOW();

-- Rune ID: 41772707665

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41772707665, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 18, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    29,
    0,
    25
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 25 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    25,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    7.0,
    25.0,
    NOW();

-- Rune ID: 40766723956

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40766723956, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 18, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    15,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 35300420024

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35300420024, 
 9215591, 
 2, 
 0, 
 6,
 15, 
 16, 
 18, 
 15, 
 15,
 646680, 
 134628, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    31,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39967693438

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39967693438, 
 9215591, 
 2, 
 0, 
 6,
 15, 
 16, 
 18, 
 15, 
 15,
 646680, 
 134628, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 1
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31264558443

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31264558443, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 19, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7.0,
    7.0,
    NOW();

-- Rune ID: 34326938848

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34326938848, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 19, 
 15, 
 15,
 634000, 
 133949, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    49,
    0,
    34
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 34 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31009966266

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31009966266, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 19, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    343,
    0,
    343
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 343 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34326922090

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34326922090, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 19, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    197,
    0,
    -232
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -232 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 44957955683

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44957955683, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 19, 
 15, 
 15,
 570600, 
 130554, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    21,
    0,
    -6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42632732129

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42632732129, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 19, 
 15, 
 12,
 507200, 
 63159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34308700120

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34308700120, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 19, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    45,
    0,
    45
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 45 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 31601615893

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31601615893, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 5, 
 19, 
 15, 
 15,
 260100, 
 65505, 
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 51,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    29,
    0,
    29
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 29 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    334,
    0,
    -82
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -82 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34340189952

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34340189952, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 19, 
 15, 
 15,
 592790, 
 131742, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    39,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 23112516499

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23112516499, 
 9215591, 
 2, 
 0, 
 6,
 4, 
 5, 
 19, 
 15, 
 9,
 208080, 
 18704, 
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'heroic',
 9,
 'heroic',
 'heroic',
 4,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33661425611

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33661425611, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 20, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    247,
    0,
    -159
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -159 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34280721118

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34280721118, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 20, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    263,
    0,
    263
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 263 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 42097226703

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42097226703, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 20, 
 15, 
 12,
 634000, 
 69949, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    30,
    0,
    30
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 30 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 33324100843

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33324100843, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 20, 
 15, 
 12,
 475500, 
 61461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    232,
    0,
    232
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 232 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 34308763776

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34308763776, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 20, 
 15, 
 12,
 475500, 
 61461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    556,
    0,
    556
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 556 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46166857225

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46166857225, 
 9215591, 
 2, 
 0, 
 3,
 14, 
 16, 
 22, 
 15, 
 0,
 456480, 
 24443, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 22,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    375,
    0,
    375
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 375 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 45818387398

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45818387398, 
 9215591, 
 2, 
 0, 
 5,
 15, 
 16, 
 22, 
 15, 
 12,
 608640, 
 68591, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 1
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 1
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 46167692747

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(46167692747, 
 9215591, 
 2, 
 0, 
 5,
 14, 
 16, 
 22, 
 15, 
 0,
 486912, 
 26072, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 360,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 0,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41561652708

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41561652708, 
 9215591, 
 2, 
 0, 
 5,
 5, 
 6, 
 24, 
 15, 
 12,
 557920, 
 63896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    10,
    0,
    -5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39196167701

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39196167701, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 25, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    2.0,
    7.0,
    NOW();

-- Rune ID: 39482512859

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39482512859, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 25, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    196,
    0,
    -186
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -186 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    29,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    2.0,
    7.0,
    NOW();

-- Rune ID: 39953161734

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39953161734, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 25, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40215079998

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40215079998, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 25, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    14,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    297,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43017849733

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43017849733, 
 9215591, 
 2, 
 0, 
 1,
 5, 
 6, 
 25, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    373,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41667067708

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41667067708, 
 9215591, 
 2, 
 0, 
 2,
 5, 
 6, 
 25, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    4.0,
    9.0,
    NOW();

-- Rune ID: 39937849799

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39937849799, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 25, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40317641722

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40317641722, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 25, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 41280903199

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41280903199, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 25, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    24,
    0,
    24
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 24 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    7.0,
    7.0,
    NOW();

-- Rune ID: 41861553224

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41861553224, 
 9215591, 
 2, 
 0, 
 3,
 5, 
 6, 
 25, 
 15, 
 12,
 570600, 
 64530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    210,
    0,
    210
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 210 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 40158615482

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40158615482, 
 9215591, 
 2, 
 0, 
 4,
 5, 
 6, 
 25, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 39844139405

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39844139405, 
 9215591, 
 2, 
 0, 
 6,
 5, 
 6, 
 25, 
 15, 
 15,
 646680, 
 132334, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    20,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Rune ID: 43230275162

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43230275162, 
 9215591, 
 1, 
 7566651838, 
 1,
 5, 
 6, 
 10, 
 15, 
 12,
 722760, 
 72138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 30862321148

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30862321148, 
 9215591, 
 1, 
 7566651838, 
 2,
 5, 
 6, 
 10, 
 15, 
 15,
 760800, 
 138040, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5.0,
    5.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 43325394289

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43325394289, 
 9215591, 
 1, 
 7566651838, 
 3,
 5, 
 6, 
 17, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    211,
    0,
    -317
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -317 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 37278813166

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(37278813166, 
 9215591, 
 1, 
 7566651838, 
 4,
 5, 
 6, 
 10, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    20,
    0,
    -4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 44773331837

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44773331837, 
 9215591, 
 1, 
 7566651838, 
 5,
 5, 
 6, 
 17, 
 15, 
 12,
 507200, 
 63159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    23,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    11,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 18269129226

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(18269129226, 
 9215591, 
 1, 
 7566651838, 
 6,
 5, 
 6, 
 10, 
 15, 
 15,
 646680, 
 132334, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 10, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    338,
    1,
    -60
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -60 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19811)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19811), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19811);

-- Rune ID: 42556460806

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42556460806, 
 9215591, 
 1, 
 7575073833, 
 2,
 5, 
 6, 
 8, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19911)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19911), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19911);

-- Rune ID: 32085475413

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32085475413, 
 9215591, 
 1, 
 7575073833, 
 4,
 5, 
 6, 
 8, 
 15, 
 15,
 427950, 
 130486, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    27,
    1,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19911)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19911), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19911);

-- Rune ID: 42855308039

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42855308039, 
 9215591, 
 1, 
 7575073833, 
 5,
 5, 
 6, 
 4, 
 15, 
 12,
 329680, 
 59485, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19911)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19911), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19911);

-- Rune ID: 42599801960

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42599801960, 
 9215591, 
 1, 
 7575073833, 
 6,
 5, 
 6, 
 8, 
 15, 
 15,
 404175, 
 128792, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 19, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19911)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19911), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19911);

-- Rune ID: 44175448963

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44175448963, 
 9215591, 
 1, 
 7598461314, 
 1,
 5, 
 6, 
 4, 
 15, 
 12,
 451725, 
 68179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6.0,
    6.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 30917462210

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30917462210, 
 9215591, 
 1, 
 7598461314, 
 4,
 5, 
 6, 
 4, 
 15, 
 15,
 370890, 
 126421, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 25810900857

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25810900857, 
 9215591, 
 1, 
 7598461314, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 608640, 
 130432, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 17, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    30,
    0,
    30
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 30 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 42399134434

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42399134434, 
 9215591, 
 1, 
 7598461314, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 592790, 
 129639, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 38620365514

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38620365514, 
 9215591, 
 1, 
 7634853376, 
 1,
 15, 
 16, 
 14, 
 15, 
 12,
 795036, 
 78572, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5.0,
    12.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15931)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15931), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15931);

-- Rune ID: 25081542339

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25081542339, 
 9215591, 
 1, 
 7634853376, 
 3,
 5, 
 6, 
 14, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    3.0,
    11.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15931)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15931), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15931);

-- Rune ID: 41988897335

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41988897335, 
 9215591, 
 1, 
 7634853376, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 570600, 
 130554, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    178,
    0,
    -86
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -86 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15931)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15931), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15931);

-- Rune ID: 41013434840

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41013434840, 
 9215591, 
 1, 
 7634853376, 
 5,
 5, 
 6, 
 14, 
 15, 
 12,
 557920, 
 65875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    2.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15931)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15931), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15931);

-- Rune ID: 24268376015

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24268376015, 
 9215591, 
 1, 
 7691336923, 
 1,
 5, 
 6, 
 6, 
 15, 
 15,
 481840, 
 132778, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 31720881730

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31720881730, 
 9215591, 
 1, 
 7691336923, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 760800, 
 138040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 13, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    20,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 36188691765

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36188691765, 
 9215591, 
 1, 
 7691336923, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    366,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    1.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 31720881731

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31720881731, 
 9215591, 
 1, 
 7691336923, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4.0,
    7.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 38142556312

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38142556312, 
 9215591, 
 1, 
 7691336923, 
 5,
 5, 
 6, 
 6, 
 15, 
 12,
 355040, 
 60152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5.0,
    12.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 24591073581

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24591073581, 
 9215591, 
 1, 
 7691336923, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 592790, 
 129639, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    19,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13811)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13811), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13811);

-- Rune ID: 43818700818

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43818700818, 
 9215591, 
 1, 
 7755379542, 
 2,
 5, 
 6, 
 10, 
 15, 
 12,
 760800, 
 74040, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 14, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    323,
    0,
    323
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 323 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 11811)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 11811), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 11811);

-- Rune ID: 36361535434

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36361535434, 
 9215591, 
 1, 
 7755379542, 
 3,
 5, 
 6, 
 1, 
 15, 
 12,
 285300, 
 57330, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 11811)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 11811), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 11811);

-- Rune ID: 20520840745

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20520840745, 
 9215591, 
 1, 
 7755379542, 
 5,
 5, 
 6, 
 10, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 11811)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 11811), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 11811);

-- Rune ID: 44824226353

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44824226353, 
 9215591, 
 1, 
 7755379542, 
 6,
 5, 
 6, 
 1, 
 15, 
 12,
 323340, 
 60174, 
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 48,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 11811)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 11811), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 11811);

-- Rune ID: 31195526471

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31195526471, 
 9215591, 
 1, 
 7836737821, 
 1,
 5, 
 6, 
 17, 
 15, 
 12,
 602300, 
 68251, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    27,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17311)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17311), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17311);

-- Rune ID: 34942057259

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34942057259, 
 9215591, 
 1, 
 7836737821, 
 2,
 5, 
 6, 
 17, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 11, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    12,
    0,
    -7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    3.0,
    7.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17311)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17311), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17311);

-- Rune ID: 34458880721

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34458880721, 
 9215591, 
 1, 
 7836737821, 
 4,
 15, 
 16, 
 11, 
 15, 
 15,
 684720, 
 136665, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17311)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17311), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17311);

-- Rune ID: 40995299115

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40995299115, 
 9215591, 
 1, 
 7836737821, 
 5,
 5, 
 6, 
 11, 
 15, 
 15,
 507200, 
 127159, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    16,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17311)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17311), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17311);

-- Rune ID: 44832052418

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44832052418, 
 9215591, 
 1, 
 7836737821, 
 6,
 5, 
 6, 
 11, 
 15, 
 12,
 538900, 
 64856, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17311)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17311), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17311);

-- Rune ID: 39207236318

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39207236318, 
 9215591, 
 1, 
 7993500411, 
 1,
 5, 
 6, 
 8, 
 15, 
 15,
 391495, 
 127889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    6,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    23,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 44104147306

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44104147306, 
 9215591, 
 1, 
 7993500411, 
 2,
 5, 
 6, 
 8, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    24,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 18165677830

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(18165677830, 
 9215591, 
 1, 
 7993500411, 
 3,
 5, 
 6, 
 8, 
 15, 
 15,
 356625, 
 125405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    1,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 45594430163

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45594430163, 
 9215591, 
 1, 
 7993500411, 
 4,
 5, 
 6, 
 16, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 16, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    37,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 36430208001

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36430208001, 
 9215591, 
 1, 
 7993500411, 
 5,
 5, 
 6, 
 8, 
 15, 
 12,
 329680, 
 59485, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    27,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    1.0,
    27.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 45549862498

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45549862498, 
 9215591, 
 1, 
 7993500411, 
 6,
 5, 
 6, 
 10, 
 15, 
 12,
 592790, 
 65639, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22711)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22711), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22711);

-- Rune ID: 41317984693

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41317984693, 
 9215591, 
 1, 
 8004074382, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    4,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    207,
    0,
    -117
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -117 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 39486567739

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39486567739, 
 9215591, 
 1, 
 8004074382, 
 3,
 5, 
 6, 
 4, 
 15, 
 15,
 356625, 
 125405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    24,
    0,
    24
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 24 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5.0,
    5.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 36422657404

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36422657404, 
 9215591, 
 1, 
 8004074382, 
 4,
 5, 
 6, 
 4, 
 15, 
 15,
 370890, 
 126421, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    20,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    12,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7.0,
    12.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 35670078893

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35670078893, 
 9215591, 
 1, 
 8004074382, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    2.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 45444751990

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45444751990, 
 9215591, 
 1, 
 8004074382, 
 6,
 5, 
 6, 
 13, 
 15, 
 12,
 646680, 
 68334, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 47,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21911)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21911), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21911);

-- Rune ID: 43177805824

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43177805824, 
 9215591, 
 1, 
 8012572583, 
 1,
 5, 
 6, 
 3, 
 15, 
 12,
 421610, 
 64680, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    1.0,
    5.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 14511)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 14511), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 14511);

-- Rune ID: 41496693415

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41496693415, 
 9215591, 
 1, 
 8012572583, 
 6,
 5, 
 6, 
 6, 
 15, 
 15,
 377230, 
 125661, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    144,
    0,
    -291
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -291 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 14511)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 14511), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 14511);

-- Rune ID: 43933025824

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43933025824, 
 9215591, 
 1, 
 8038039217, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    26,
    0,
    26
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 26 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    627,
    0,
    372
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 372 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    18,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22911)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22911), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22911);

-- Rune ID: 25560536536

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(25560536536, 
 9215591, 
 1, 
 8038039217, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 364, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6.0,
    11.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22911)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22911), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22911);

-- Rune ID: 44775440585

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(44775440585, 
 9215591, 
 1, 
 8038039217, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 646680, 
 132334, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    13,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22911)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22911), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22911);

-- Rune ID: 30999552654

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(30999552654, 
 9215591, 
 1, 
 8413532674, 
 1,
 5, 
 6, 
 14, 
 15, 
 12,
 662530, 
 71476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 7, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 41671595042

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41671595042, 
 9215591, 
 1, 
 8413532674, 
 2,
 5, 
 6, 
 15, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    21,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 38133807005

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38133807005, 
 9215591, 
 1, 
 8413532674, 
 3,
 5, 
 6, 
 14, 
 15, 
 12,
 523050, 
 64008, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 5, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 41603078370

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41603078370, 
 9215591, 
 1, 
 8413532674, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 16, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    29,
    0,
    29
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 29 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 19245989799

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(19245989799, 
 9215591, 
 1, 
 8413532674, 
 5,
 5, 
 6, 
 14, 
 15, 
 15,
 557920, 
 129875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    23,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    11,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    1.0,
    11.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 38912016591

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38912016591, 
 9215591, 
 1, 
 8413532674, 
 6,
 15, 
 16, 
 14, 
 15, 
 15,
 646680, 
 134628, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    16,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 1
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17011)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17011), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17011);

-- Rune ID: 42027452622

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42027452622, 
 9215591, 
 1, 
 8534249847, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 451725, 
 68179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6.0,
    11.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 39192691230

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39192691230, 
 9215591, 
 1, 
 8534249847, 
 2,
 5, 
 6, 
 8, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 38033041658

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38033041658, 
 9215591, 
 1, 
 8534249847, 
 3,
 5, 
 6, 
 8, 
 15, 
 12,
 356625, 
 61405, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 4, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 42442045073

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42442045073, 
 9215591, 
 1, 
 8534249847, 
 4,
 5, 
 6, 
 4, 
 15, 
 15,
 427950, 
 130486, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    10,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    19,
    0,
    19
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 19 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 17028063250

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(17028063250, 
 9215591, 
 1, 
 8534249847, 
 5,
 5, 
 6, 
 4, 
 15, 
 15,
 380400, 
 127098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 41869113525

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41869113525, 
 9215591, 
 1, 
 8534249847, 
 6,
 5, 
 6, 
 8, 
 15, 
 15,
 404175, 
 128792, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    29,
    0,
    29
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 29 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 22011)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 22011), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 22011);

-- Rune ID: 20542375683

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20542375683, 
 9215591, 
 1, 
 8595750560, 
 1,
 5, 
 6, 
 10, 
 15, 
 14,
 722760, 
 107138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 134,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 8, 
 'legendary',
 14,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    19,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    4.0,
    10.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17911)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17911), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17911);

-- Rune ID: 41345538366

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41345538366, 
 9215591, 
 1, 
 8595750560, 
 2,
 5, 
 6, 
 6, 
 15, 
 15,
 507200, 
 134503, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    21,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17911)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17911), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17911);

-- Rune ID: 43272836049

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43272836049, 
 9215591, 
 1, 
 8595750560, 
 3,
 5, 
 6, 
 6, 
 15, 
 12,
 332850, 
 58642, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    21,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    2.0,
    9.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17911)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17911), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17911);

-- Rune ID: 26104338217

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(26104338217, 
 9215591, 
 1, 
 8595750560, 
 4,
 5, 
 6, 
 10, 
 15, 
 15,
 627660, 
 131383, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 58,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    32,
    0,
    25
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 25 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17911)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17911), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17911);

-- Rune ID: 35599813856

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35599813856, 
 9215591, 
 1, 
 8595750560, 
 6,
 15, 
 16, 
 10, 
 15, 
 15,
 711348, 
 135567, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    22,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 17911)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 17911), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 17911);

-- Rune ID: 21081235257

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(21081235257, 
 9215591, 
 1, 
 8759784272, 
 2,
 5, 
 6, 
 1, 
 15, 
 15,
 443800, 
 133181, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    23,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15031)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15031), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15031);

-- Rune ID: 32007140970

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32007140970, 
 9215591, 
 1, 
 8759784272, 
 3,
 5, 
 6, 
 3, 
 15, 
 12,
 332850, 
 58642, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    7,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    7.0,
    7.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15031)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15031), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15031);

-- Rune ID: 19929372837

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(19929372837, 
 9215591, 
 1, 
 8759784272, 
 5,
 5, 
 6, 
 3, 
 15, 
 15,
 355040, 
 124152, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    29,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15031)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15031), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15031);

-- Rune ID: 39188737040

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39188737040, 
 9215591, 
 1, 
 8759784272, 
 6,
 5, 
 6, 
 1, 
 15, 
 15,
 377230, 
 128204, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 8, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    6,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    167,
    0,
    -248
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -248 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 15031)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 15031), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 15031);

-- Rune ID: 40380121197

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40380121197, 
 9215591, 
 1, 
 8825397556, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    8,
    1,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    1.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 31001486248

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31001486248, 
 9215591, 
 1, 
 8825397556, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 36180180241

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36180180241, 
 9215591, 
 1, 
 8825397556, 
 3,
 5, 
 6, 
 13, 
 15, 
 12,
 523050, 
 62152, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 35618323713

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(35618323713, 
 9215591, 
 1, 
 8825397556, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 16, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    19,
    0,
    -3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND -3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    14,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 34939297223

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(34939297223, 
 9215591, 
 1, 
 8825397556, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    17,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 20966824240

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(20966824240, 
 9215591, 
 1, 
 8825397556, 
 6,
 15, 
 16, 
 15, 
 15, 
 15,
 646680, 
 134628, 
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 64,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    366,
    0,
    -156
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 1
    AND -156 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 1
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    4.0,
    12.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19411)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19411), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19411);

-- Rune ID: 21715131874

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(21715131874, 
 9215591, 
 1, 
 8826671760, 
 1,
 5, 
 6, 
 4, 
 15, 
 15,
 451725, 
 132179, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 246, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    11,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    8,
    1,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    22,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13911)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13911), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13911);

-- Rune ID: 38037354049

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38037354049, 
 9215591, 
 1, 
 8826671760, 
 5,
 5, 
 6, 
 8, 
 15, 
 15,
 380400, 
 127098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    22,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    10,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 13911)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 13911), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 13911);

-- Rune ID: 43001157609

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43001157609, 
 9215591, 
 1, 
 9527185226, 
 1,
 5, 
 6, 
 8, 
 15, 
 12,
 391495, 
 63889, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18811)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18811), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18811);

-- Rune ID: 42067649713

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(42067649713, 
 9215591, 
 1, 
 9527185226, 
 2,
 5, 
 6, 
 4, 
 15, 
 15,
 412100, 
 129357, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    15,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    12,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5.0,
    10.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18811)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18811), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18811);

-- Rune ID: 31508127620

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31508127620, 
 9215591, 
 1, 
 9527185226, 
 3,
 5, 
 6, 
 8, 
 15, 
 12,
 309075, 
 58017, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    14,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18811)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18811), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18811);

-- Rune ID: 32522158503

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(32522158503, 
 9215591, 
 1, 
 9527185226, 
 5,
 5, 
 6, 
 4, 
 15, 
 12,
 380400, 
 63098, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 1800,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 6, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'),
    10,
    0,
    -8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
    AND is_ancient = 0
    AND -8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6.0,
    11.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18811)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18811), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18811);

-- Rune ID: 41867701718

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41867701718, 
 9215591, 
 1, 
 9527185226, 
 6,
 5, 
 6, 
 8, 
 15, 
 15,
 404175, 
 128792, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 19, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    22,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18811)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18811), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18811);

-- Rune ID: 40076267046

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40076267046, 
 9215591, 
 1, 
 9674571481, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18011)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18011), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18011);

-- Rune ID: 45604208956

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(45604208956, 
 9215591, 
 1, 
 9674571481, 
 2,
 5, 
 6, 
 15, 
 15, 
 12,
 697400, 
 73344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 31,
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 8, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18011)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18011), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18011);

-- Rune ID: 23380820725

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23380820725, 
 9215591, 
 1, 
 9674571481, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    495,
    1,
    127
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 127 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18011)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18011), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18011);

-- Rune ID: 38134266210

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38134266210, 
 9215591, 
 1, 
 9674571481, 
 4,
 5, 
 6, 
 15, 
 15, 
 15,
 627660, 
 133609, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 17, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    4,
    0,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    1120,
    0,
    668
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 668 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18011)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18011), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18011);

-- Rune ID: 39944253319

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(39944253319, 
 9215591, 
 1, 
 9674571481, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 557920, 
 127896, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    7,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6.0,
    10.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 18011)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 18011), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 18011);

-- Rune ID: 40317973731

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40317973731, 
 9215591, 
 1, 
 9702528590, 
 1,
 5, 
 6, 
 13, 
 15, 
 12,
 662530, 
 69126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 118,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 12,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    10,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    14,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    5,
    0,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19211)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19211), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19211);

-- Rune ID: 38151086237

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(38151086237, 
 9215591, 
 1, 
 9702528590, 
 2,
 5, 
 6, 
 17, 
 15, 
 15,
 697400, 
 137344, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 12, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'),
    6,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    21,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19211)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19211), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19211);

-- Rune ID: 23476837430

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_DMG')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23476837430, 
 9215591, 
 1, 
 9702528590, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 80,
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 15, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'),
    16,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'CRIT_RATE')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    8,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19211)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19211), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19211);

-- Rune ID: 23156476280

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(23156476280, 
 9215591, 
 1, 
 9702528590, 
 5,
 5, 
 6, 
 17, 
 15, 
 15,
 557920, 
 129875, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    19,
    0,
    15
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 15 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    10,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19211)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19211), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19211);

-- Rune ID: 41585067598

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41585067598, 
 9215591, 
 1, 
 9702528590, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 592790, 
 129639, 
 (SELECT id FROM stat_types WHERE code = 'ATK_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    0,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    362,
    0,
    -58
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -58 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    16,
    0,
    12
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 12 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    9,
    1,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    3.0,
    9.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 19211)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 19211), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 19211);

-- Rune ID: 40911542556

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40911542556, 
 9215591, 
 1, 
 9771782736, 
 1,
 5, 
 6, 
 15, 
 15, 
 15,
 662530, 
 135476, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'ACC'), 
 5, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    20,
    0,
    16
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 16 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    354,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 17051222046

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(17051222046, 
 9215591, 
 1, 
 9771782736, 
 2,
 5, 
 6, 
 13, 
 15, 
 15,
 697400, 
 134870, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    5,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    21,
    0,
    21
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 21 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'),
    27,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    2.0,
    8.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 41670128240

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41670128240, 
 9215591, 
 1, 
 9771782736, 
 3,
 5, 
 6, 
 15, 
 15, 
 15,
 475500, 
 125461, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    15,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    6,
    0,
    -1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND -1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    20,
    0,
    20
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 20 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 29026012920

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(29026012920, 
 9215591, 
 1, 
 9771782736, 
 4,
 5, 
 6, 
 13, 
 15, 
 15,
 684720, 
 134236, 
 (SELECT id FROM stat_types WHERE code = 'DEF_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 10, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    375,
    0,
    -67
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -67 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    9,
    1,
    2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 2 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    29,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    9,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 43981686790

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 5 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(43981686790, 
 9215591, 
 1, 
 9771782736, 
 5,
 5, 
 6, 
 13, 
 15, 
 15,
 608640, 
 130432, 
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 2448,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 15, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    17,
    0,
    17
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 17 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    10,
    1,
    5
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 5 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    11,
    0,
    11
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 11 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    15,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 5;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    5
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 31195731366

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 6 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(31195731366, 
 9215591, 
 1, 
 9771782736, 
 6,
 5, 
 6, 
 13, 
 15, 
 15,
 646680, 
 132334, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 13, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    19,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    384,
    1,
    145
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND 145 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    13,
    0,
    13
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 13 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 21511)
AND slot_number = 6;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 21511), 
    @last_rune_id, 
    6
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 21511);

-- Rune ID: 24628044454

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(24628044454, 
 9215591, 
 1, 
 9928513762, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 722760, 
 136138, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'RES'), 
 6, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    18,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    6,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    7,
    0,
    0
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 0 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9,
    1,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_upgrades 
(rune_id, level_reached, stat_type_id, old_value, new_value, upgrade_date)
SELECT 
    @last_rune_id,
    3,
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    9.0,
    9.0,
    NOW();

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 14031)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 14031), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 14031);

-- Rune ID: 33364815113

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(33364815113, 
 9215591, 
 1, 
 9928513762, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_RATE'), 
 4, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    9
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 9 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    11,
    1,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    18,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 14031)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 14031), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 14031);

-- Rune ID: 40853651182

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 4 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(40853651182, 
 9215591, 
 1, 
 9928513762, 
 4,
 5, 
 6, 
 14, 
 15, 
 15,
 570600, 
 130554, 
 (SELECT id FROM stat_types WHERE code = 'HP_PCT'), 
 63,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'RES'),
    10,
    1,
    10
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'RES')
    AND is_ancient = 0
    AND 10 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    5,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    31,
    0,
    22
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 22 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    5,
    0,
    -2
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND -2 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 14031)
AND slot_number = 4;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 14031), 
    @last_rune_id, 
    4
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 14031);

-- Rune ID: 36600944151

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 1 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(36600944151, 
 9215591, 
 1, 
 10034125408, 
 1,
 5, 
 6, 
 13, 
 15, 
 15,
 662530, 
 133126, 
 (SELECT id FROM stat_types WHERE code = 'ATK_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    22,
    0,
    18
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 18 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    8,
    0,
    3
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 3 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    11,
    1,
    7
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 0
    AND 7 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    8,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 24011)
AND slot_number = 1;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 24011), 
    @last_rune_id, 
    1
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 24011);

-- Rune ID: 28996074514

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 2 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(28996074514, 
 9215591, 
 1, 
 10034125408, 
 2,
 15, 
 16, 
 15, 
 15, 
 15,
 760800, 
 140738, 
 (SELECT id FROM stat_types WHERE code = 'SPD'), 
 42,
 (SELECT id FROM stat_types WHERE code = 'HP_FLAT'), 
 0, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    23,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    13,
    1,
    4
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 1
    AND 4 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ATK_PCT'),
    16,
    0,
    6
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ATK_PCT')
    AND is_ancient = 1
    AND 6 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'ACC'),
    14,
    0,
    14
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'ACC')
    AND is_ancient = 1
    AND 14 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 24011)
AND slot_number = 2;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 24011), 
    @last_rune_id, 
    2
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 24011);

-- Rune ID: 41368394091

SET @valid_slot = (
    SELECT COUNT(*) 
    FROM slot_stat_constraints 
    WHERE slot_no = 3 
    AND stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_FLAT')
);

INSERT INTO runes 
(rune_id, wizard_id, occupied_type, occupied_id, slot_no, `rank`, 
 `class`, set_id, upgrade_limit, upgrade_curr, base_value, sell_value, 
 pri_eff_type, pri_eff_value, prefix_eff_type, prefix_eff_value, 
 quality, level, original_grade, current_grade, original_quality, locked)
VALUES 
(41368394091, 
 9215591, 
 1, 
 10034125408, 
 3,
 5, 
 6, 
 13, 
 15, 
 15,
 570600, 
 128530, 
 (SELECT id FROM stat_types WHERE code = 'DEF_FLAT'), 
 160,
 (SELECT id FROM stat_types WHERE code = 'CRIT_DMG'), 
 7, 
 'legendary',
 15,
 'legendary',
 'legendary',
 5,
 0);

SET @last_rune_id = LAST_INSERT_ID();

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_FLAT'),
    344,
    1,
    -117
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_FLAT')
    AND is_ancient = 0
    AND -117 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'HP_PCT'),
    29,
    0,
    23
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'HP_PCT')
    AND is_ancient = 0
    AND 23 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'SPD'),
    12,
    0,
    8
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'SPD')
    AND is_ancient = 0
    AND 8 BETWEEN substat_initial_min AND substat_initial_max
);

INSERT INTO rune_substats 
(rune_id, stat_type_id, stat_value, upgrade_count, initial_value)
SELECT 
    @last_rune_id, 
    (SELECT id FROM stat_types WHERE code = 'DEF_PCT'),
    8,
    0,
    1
WHERE EXISTS (
    SELECT 1 FROM rune_stat_ranges 
    WHERE stat_type_id = (SELECT id FROM stat_types WHERE code = 'DEF_PCT')
    AND is_ancient = 0
    AND 1 BETWEEN substat_initial_min AND substat_initial_max
);

-- Supprimer toute rune existante dans ce slot pour ce monstre
DELETE FROM monster_runes 
WHERE monster_id = (SELECT id FROM monsters WHERE com2us_id = 24011)
AND slot_number = 3;

-- Ins√©rer la nouvelle association rune-monstre
INSERT INTO monster_runes (monster_id, rune_id, slot_number)
SELECT 
    (SELECT id FROM monsters WHERE com2us_id = 24011), 
    @last_rune_id, 
    3
WHERE EXISTS (SELECT 1 FROM monsters WHERE com2us_id = 24011);


COMMIT;
